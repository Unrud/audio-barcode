(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,n){"use strict";n.r(e);var r=n(2);r.i();const o=.5,c=r.a.get_beep_len(),i=r.a.get_attack_len(),u=r.a.get_release_len(),l=r.a.get_payload_len(),a=r.a.get_symbol_mnemonics();let s=document.querySelector("#log");function f(t,e){let n=document.createElement("div");n.classList.add(e),n.textContent=t,s.prepend(n)}let g=new AudioContext,d=0;let h=r.a.new(g.sampleRate,function(t){m(t,"rx")},function(t){let e=g.createOscillator(),n=g.createGain();e.connect(n),n.connect(g.destination),e.type="sine";let r=g.currentTime;n.gain.setValueAtTime(0,r);for(let l=0;l<t.length;l++){let a=r+c*l;n.gain.linearRampToValueAtTime(o,a+i),n.gain.setValueAtTime(o,a+c-u),n.gain.linearRampToValueAtTime(0,a+c),e.frequency.setValueAtTime(t[l],a)}e.start(r),e.stop(r+c*t.length),d=c*t.length*g.sampleRate});function p(t){console.log("The following gUM error occured: "+t),f("Microphone access denied: Unable to receive messages","err")}function m(t,e){let n="";for(let e=0;e<t.length;e++)n+=a.charAt(t[e]);f(n,e)}navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){let e=g.createMediaStreamSource(t),n=g.createScriptProcessor(0,1,1);e.connect(n),n.connect(g.destination),g.resume().catch(p),n.onaudioprocess=function(t){let e=t.inputBuffer,n=e.getChannelData(0);for(let t=0;t<e.length;t++)d-=1,h.push_sample(d<0?n[t]:0)}}).catch(p):p("Not supported on your browser!");let b=document.querySelector("#message");function y(){let t=b.value;for(let e=0;e<t.length;e++)if(-1==a.indexOf(t[e]))return void b.setCustomValidity("Allowed symbols: "+a);b.setCustomValidity("")}document.querySelector("form").onsubmit=function(){let t=b.value,e=new Uint8Array(l);for(let n=0,r=0;n<t.length&&r<e.length;n++){let o=a.indexOf(t[n]);-1!==o&&(e[r]=o,r++)}return h.send(e),m(e,"tx"),!1},b.setAttribute("maxlength",l),y(),b.addEventListener("input",y)},function(t,e,n){"use strict";n.d(e,"i",function(){return o}),n.d(e,"a",function(){return _}),n.d(e,"g",function(){return w}),n.d(e,"c",function(){return A}),n.d(e,"f",function(){return v}),n.d(e,"d",function(){return x}),n.d(e,"b",function(){return S}),n.d(e,"e",function(){return T}),n.d(e,"h",function(){return k});var r=n(3);function o(){r.f()}const c=new Array(32);c.fill(void 0),c.push(void 0,null,!0,!1);let i=c.length;function u(t){i===c.length&&c.push(c.length+1);const e=i;return i=c[e],c[e]=t,e}let l=null;function a(){return null!==l&&l.buffer===r.g.buffer||(l=new Uint8Array(r.g.buffer)),l}let s=0;let f=null;function g(){return null!==f&&f.buffer===r.g.buffer||(f=new Int32Array(r.g.buffer)),f}let d=new TextDecoder("utf-8");function h(t,e){return d.decode(a().subarray(t,t+e))}function p(t){return c[t]}function m(t){const e=p(t);return function(t){t<36||(c[t]=i,i=t)}(t),e}let b,y=new TextEncoder("utf-8");b="function"==typeof y.encodeInto?function(t){let e=t.length,n=r.d(e),o=0;{const e=a();for(;o<t.length;o++){const r=t.charCodeAt(o);if(r>127)break;e[n+o]=r}}if(o!==t.length){t=t.slice(o),n=r.e(n,e,e=o+3*t.length);const c=a().subarray(n+o,n+e);o+=y.encodeInto(t,c).written}return s=o,n}:function(t){let e=t.length,n=r.d(e),o=0;{const e=a();for(;o<t.length;o++){const r=t.charCodeAt(o);if(r>127)break;e[n+o]=r}}if(o!==t.length){const c=y.encode(t.slice(o));n=r.e(n,e,e=o+c.length),a().set(c,n+o),o+=c.length}return s=o,n};class _{static __wrap(t){const e=Object.create(_.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,r.a(t)}static new(t,e,n){const o=r.m(t,u(e),u(n));return _.__wrap(o)}send(t){r.o(this.ptr,function(t){const e=r.d(1*t.length);return a().set(t,e/1),s=t.length,e}(t),s)}push_sample(t){r.n(this.ptr,t)}static get_payload_len(){return r.j()>>>0}static get_beep_len(){return r.i()}static get_attack_len(){return r.h()}static get_symbol_mnemonics(){r.l(8);const t=g(),e=h(t[2],t[3]).slice();return r.c(t[2],1*t[3]),e}static get_release_len(){return r.k()}}const w=function(t){m(t)},A=function(){return u(new Array)},v=function(t){return u(t)},x=function(t,e){return p(t).push(p(e))},S=function(t,e,n){try{return u(p(t).call(p(e),p(n)))}catch(t){!function(t){r.b(u(t))}(t)}},T=function(t,e){const n=function t(e){const n=typeof e;if("number"==n||"boolean"==n||null==e)return`${e}`;if("string"==n)return`"${e}"`;if("symbol"==n){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==n){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const n=e.length;let r="[";n>0&&(r+=t(e[0]));for(let o=1;o<n;o++)r+=", "+t(e[o]);return r+="]"}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let o;if(!(r.length>1))return toString.call(e);if("Object"==(o=r[1]))try{return"Object("+JSON.stringify(e)+")"}catch(t){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:o}(p(e)),r=b(n),o=s;g()[t/4+0]=r,g()[t/4+1]=o},k=function(t,e){throw new Error(h(t,e))}},function(t,e,n){"use strict";var r=n.w[t.i];t.exports=r;n(2);r.p()}]]);